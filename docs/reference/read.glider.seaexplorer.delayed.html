<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Read delayed-mode SeaExplorer glider data — read.glider.seaexplorer.delayed • oceanglider</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Read delayed-mode SeaExplorer glider data — read.glider.seaexplorer.delayed"><meta property="og:description" content='Reads delayed-mode CSV files produced by a SeaExplorer glider,
as detected by the presence of ".raw." in their names.
Such delayed-mode data are the full resolution data stored on
the glider and downloaded after recovery.
(Use read.glider.seaexplorer.realtime() instead
of this, to read data as transmitted by the glider while
it is in the field.)'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">oceanglider</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/oceanglider.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Read delayed-mode SeaExplorer glider data</h1>
    
    <div class="hidden name"><code>read.glider.seaexplorer.delayed.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Reads delayed-mode CSV files produced by a SeaExplorer glider,
as detected by the presence of <code>".raw."</code> in their names.
Such delayed-mode data are the full resolution data stored on
the glider and downloaded after recovery.
(Use <code><a href="read.glider.seaexplorer.realtime.html">read.glider.seaexplorer.realtime()</a></code> instead
of this, to read data as transmitted by the glider while
it is in the field.)</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">read.glider.seaexplorer.delayed</span><span class="op">(</span></span>
<span>  <span class="va">directory</span>,</span>
<span>  <span class="va">yo</span>,</span>
<span>  level <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  interpolateToCTD <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  removeTimeSincePowerOn <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  progressBar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">debug</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>directory</dt>
<dd><p>The directory in which the delayed-mode SeaExplorer files are located.</p></dd>


<dt>yo</dt>
<dd><p>A numeric value (or vector) specifying the yo numbers to
read. If this is not provided, <code>read.glider.seaexplorer.delayed</code>
will read all yo numbers for which files are present in <code>dir</code>.</p></dd>


<dt>level</dt>
<dd><p>A numeric value specifying the processing level, 0 or
1. See Details.</p></dd>


<dt>interpolateToCTD</dt>
<dd><p>A logical indicating whether all sensors should
be interpolated to the CTD times to obtain a common time base,
or whether all sensors should simply be interpolated for all
time stamps (which was the default behavious before 2019-12-08)</p></dd>


<dt>removeTimeSincePowerOn</dt>
<dd><p>Amount of time to remove data after
the CTD is powered on. This is to remove spurious data that can
occur when the glider doesn't sample every yo, and water
trapped within the CTD needs to be flushed out before good data
are obtained.</p></dd>


<dt>progressBar</dt>
<dd><p>either a logical or character value that controls
whether/how to indicate the progress made in reading and interpreting
the data.  This can be useful, since the work can be slow.  If <code>progressBar</code>
is a logical value, then it indicates whether to show textual progress
with <code><a href="https://rdrr.io/r/utils/txtProgressBar.html" class="external-link">txtProgressBar()</a></code>.  If <code>progressBar</code> is the character value <code>"shiny"</code>,
then <code><a href="https://rdrr.io/pkg/shiny/man/withProgress.html" class="external-link">shiny::setProgress()</a></code> and <code><a href="https://rdrr.io/pkg/shiny/man/withProgress.html" class="external-link">shiny::incProgress()</a></code> will be used,
on the assumption that the call to <code><a href="read.glider.seaexplorer.realtime.html">read.glider.seaexplorer.realtime()</a></code>
was made within the context of a call to <code><a href="https://rdrr.io/pkg/shiny/man/withProgress.html" class="external-link">shiny::withProgress()</a></code>.
The default is to use the value returned by <code><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive()</a></code>, i.e.
to use a textual progress indicator, but only in interactive mode.</p></dd>


<dt>debug</dt>
<dd><p>an integer specifying whether debugging information is
to be printed during processing. If this is not provided, then
the value of <code><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a>("gliderDebug",0)</code> is used.
The printing is done by a call to <code><a href="gliderDebug.html">gliderDebug</a></code>.
Setting <code>debug=0</code> turns off this form of debugging, while
higher values may yield more information, depending on the
function. If one <code>glider</code> function calls another, it
passes the value of <code>debug</code> but decreased by 1, which means
that the value of <code>debug</code> controls not just the breadth
of debugging, but also the depth.</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>This function can output either "Level 0" or "Level 1" type
data. Level 0 is simply the raw data as written in the CSV files
with no processing done, other than to remove longitude and
latitude for samples where the glider wasn't actually communicating
with satellites and then interpolate between surface values.</p>
<p>Level 1 processing performs a number of steps to give an
"analysis ready" dataset, including</p>
<ol><li><p>Interpolation of the surface longitude and latitude to give
an estimate of the subsurface positions. This is a crude estimate of
subsurface location and should be taken only as a first guess.</p></li>
<li><p>Removal of the first few sensor values from when the glider
is in <code>navState=118</code> (inflecting up) or <code>navState=110</code>
(inflecting down). The reason for this is that when the glider is
set to sample on alternating profiles, when the CTD is powered up
the first sample output to the payload computer is the <em>last</em>
sample recorded before power down.</p></li>
<li><p>Interpolation, depending on the value of <code>interpolateToCTD</code>. If
<code>interpolateToCTD</code> is <code>TRUE</code>, then any "extra" sensors are interpolated
to the times for which there is CTD data. Otherwise, NAs for <em>all</em>
the sensors are interpolated to a common time, corresponding to the
raw time stamps output from the various sensors. A caution -- this
will produce an apparent "upsampling" of each sensor, so that the
apparent sample rate is higher. For example, if a Wetlabs FLBBCD
sensor sampled, but there is no corresponding GP-CTD sample from
the same time, the CTD parameters will be interpolated from the
ones before and after. This has the disadvantage of interpolating
values that were not measured, but has the advantage of assigning
pressures to values measured by sensors not integrated into the CTD
(e.g. Wetlabs FLBBCD, Rinko O2). Following the interpolation, any
rows with duplicated times are removed.</p></li>
<li><p>Calculate Practical salinity from conductivity, temperature
and pressure using <code><a href="https://dankelley.github.io/oce/reference/swSCTp.html" class="external-link">swSCTp()</a></code>.</p></li>
</ol></div>
    <div id="flag-scheme">
    <h2>Flag Scheme</h2>
    

<p>A flag scheme is set up according to the IOOS classification system (see
Table 2 of reference 1), as follows.</p>
<table class="table table"><tr><td><strong>Name</strong></td><td><strong>Value</strong></td><td><strong>IOOS Name</strong></td><td><strong>Description</strong></td></tr><tr><td><code>pass</code></td><td>1</td><td>Pass</td><td>Data has passed quality control (QC) tests</td></tr><tr><td><code>not_evaluated</code></td><td>2</td><td>Not Evaluated</td><td>Data has not been QC tested</td></tr><tr><td><code>suspect</code></td><td>3</td><td>Suspect or of High Interest</td><td>Data is considered to be of suspect or high interest</td></tr><tr><td><code>fail</code></td><td>4</td><td>Fail</td><td>Data is considered to have failed on one or more QC tests</td></tr><tr><td><code>missing</code></td><td>9</td><td>Missing Data</td><td>Data are missing; using a palceholder</td></tr></table></div>
    <div id="renaming-of-data-in-seaexplorer-files">
    <h2>Renaming of data in seaexplorer files</h2>
    


<p>FIXME: are the original names the same in both "raw" and "sub" datasets?</p>
<p>Data in the <code>gli</code> files are stored in the <code>glider</code> item within
the <code>data</code> slot of the returned object, renamed as follows.
(Note that there is also an empty column in the seaexplorer data files,
caused by a semicolon at the ends of the lines. This is read by R, but
then discarded and not stored in the glider object.)</p>
<p>Data in the <code>gli</code> files are stored in the <code>glider</code> item within
the <code>data</code> slot of the returned object, renamed as follows. (If the
new name is listed as <code>.</code> that means that the old name is retained,
but bear in mind that a new name will likely be assigned at some later
point in the development of this package.)</p>
<table class="table table"><tr><td><strong>OriginalName</strong></td><td><strong>Name</strong></td><td><strong>Notes</strong></td></tr><tr><td><code>Timestamp</code></td><td><code>time</code></td><td>Converted to POSIXt time.</td></tr><tr><td><code>NavState</code></td><td><code>navState</code></td><td>-</td></tr><tr><td><code>SecurityLevel</code></td><td><code>alarm</code></td><td>-</td></tr><tr><td><code>Heading</code></td><td><code>heading</code></td><td>-</td></tr><tr><td><code>Pitch</code></td><td><code>pitch</code></td><td>-</td></tr><tr><td><code>Roll</code></td><td><code>roll</code></td><td>-</td></tr><tr><td><code>Depth</code></td><td><code>pressureNav</code></td><td>-</td></tr><tr><td><code>Temperature</code></td><td><code>temperatureInternal</code></td><td>-</td></tr><tr><td><code>Pa</code></td><td><code>pressureInternal</code></td><td>-</td></tr><tr><td><code>Lat</code></td><td><code>latitude</code></td><td>Converted to decimal degrees.</td></tr><tr><td><code>Lon</code></td><td><code>longitude</code></td><td>Converted to decimal degrees.</td></tr><tr><td><code>DesiredH</code></td><td><code>headingDesired</code></td><td>-</td></tr><tr><td><code>BallastCmd</code></td><td><code>ballastCmd</code></td><td>-</td></tr><tr><td><code>BallastPos</code></td><td><code>ballastPos</code></td><td>-</td></tr><tr><td><code>LinCmd</code></td><td><code>linCmd</code></td><td>-</td></tr><tr><td><code>LinPos</code></td><td><code>linPos</code></td><td>-</td></tr><tr><td><code>AngCmd</code></td><td><code>angCmd</code></td><td>-</td></tr><tr><td><code>AngPos</code></td><td><code>angPos</code></td><td>-</td></tr><tr><td><code>Voltage</code></td><td><code>voltage</code></td><td>-</td></tr><tr><td><code>Altitude</code></td><td><code>altitude</code></td><td>-</td></tr></table><p>Data in the <code>pld1</code> files are stored in the <code>payload1</code> item within
the <code>data</code> slot of the returned object, renamed as follows. Where possible,
the corresponding IOOS NetCDF file variable names are also listed [see
Integrated Ocean Observing System (U.S.). “NGDAC NetCDF File Format Version
2,” March 27, 2019.
https://github.com/ioos/ioosngdac/wiki/NGDAC-NetCDF-File-Format-Version-2].</p>
<table class="table table"><tr><td><strong>OriginalName</strong></td><td><strong>Name</strong></td><td><strong>IOOS name</strong></td><td><strong>Notes</strong></td></tr><tr><td><code>PLD_REALTIMECLOCK</code></td><td><code>time</code></td><td><code>time</code></td><td>Converted to POSIXt time.</td></tr><tr><td><code>NAV_RESOURCE</code></td><td><code>navState</code></td><td>-</td><td>-</td></tr><tr><td><code>NAV_LONGITUDE</code></td><td><code>longitude</code></td><td><code>lon</code></td><td>Converted to decimal degrees.</td></tr><tr><td><code>NAV_LATITUDE</code></td><td><code>latitude</code></td><td><code>lat</code></td><td>Converted to decimal degrees.</td></tr><tr><td><code>NAV_DEPTH</code></td><td><code>pressureNav</code></td><td><code>depth</code></td><td>-</td></tr><tr><td><code>FLBBCD_CHL_COUNT</code></td><td><code>chlorophyllCount</code></td><td>-</td><td>-</td></tr><tr><td><code>FLBBCD_CHL_SCALED</code></td><td><code>chlorophyll</code></td><td>-</td><td>-</td></tr><tr><td><code>FLBBCD_BB_700_COUNT</code></td><td><code>backscatterCount</code></td><td>-</td><td>-</td></tr><tr><td><code>FLBBCD_BB_700_SCALED</code></td><td><code>backscatter</code></td><td>-</td><td>-</td></tr><tr><td><code>FLBBCD_CDOM_COUNT</code></td><td><code>cdomCount</code></td><td>-</td><td>-</td></tr><tr><td><code>FLBBCD_CDOM_SCALED</code></td><td><code>cdom</code></td><td>-</td><td>-</td></tr><tr><td><code>GPCTD_CONDUCTIVITY</code></td><td><code>conductivity</code></td><td>-</td><td>-</td></tr><tr><td><code>GPCTD_TEMPERATURE</code></td><td><code>temperature</code></td><td><code>temperature</code></td><td>degC</td></tr><tr><td><code>GPCTD_PRESSURE</code></td><td><code>pressure</code></td><td><code>pressure</code></td><td>dbar</td></tr><tr><td><code>GPCTD_DOF</code></td><td><code>oxygenFrequency</code></td><td>-</td><td>-</td></tr><tr><td>-</td><td><code>salinity</code></td><td><code>salinity</code></td><td>Practical Salinity (computed)</td></tr></table><p>Data in the <code>pld2</code> files (or others for additional payloads)
are ignored in this version of the package. Please contact the
authors, if you need to handle such files.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other functions for seaexplorer gliders: 
<code><a href="read.glider.seaexplorer.realtime.html">read.glider.seaexplorer.realtime</a>()</code></p>
<p>Other functions to read glider data: 
<code><a href="read.glider.netcdf.ioos.html">read.glider.netcdf.ioos</a>()</code>,
<code><a href="read.glider.netcdf.html">read.glider.netcdf</a>()</code>,
<code><a href="read.glider.seaexplorer.realtime.html">read.glider.seaexplorer.realtime</a>()</code>,
<code><a href="read.glider.slocum.netcdf.html">read.glider.slocum.netcdf</a>()</code>,
<code><a href="read.glider.slocum.html">read.glider.slocum</a>()</code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Clark Richards and Dan Kelley</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">oceanglider</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">directory</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/seaexplorer/raw"</span>, package<span class="op">=</span><span class="st">"oceanglider"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">read.glider.seaexplorer.delayed</span><span class="op">(</span><span class="va">directory</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plotGlider.html">plotGlider</a></span><span class="op">(</span><span class="va">g</span>, which<span class="op">=</span><span class="st">"p"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="read.glider.seaexplorer.delayed-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Dan Kelley, Clark Richards, Chantelle Layton.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

